package operArrayList;

import java.io.File;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;
import java.util.Scanner;


public class PrincipalArrayList {

	public static void main(String[] args) {
		ArrayList<Estudiante> lista;
		System.out.println("Importa la información contenida en el documento notas1.txt");
		System.out.println("--------------------------------------------");
		lista = importarDatos();
		System.out.println("2. Muestra el número de registros que contiene.");
		System.out.println("-----------------------------------------");
		System.out.println("Número de registros: "+ lista.size());
		System.out.println("3. Ordena los registros por grupo y nombre.");
		System.out.println("-----------------------------------------");
		Collections.sort(lista, Comparator.comparing(Estudiante::getGrupo)
	            .thenComparing(Estudiante::getNombre));
		System.out.println("4. Inserta siguiente registro:");
		System.out.println("-----------------------------------------");
		Estudiante est1 = new Estudiante("1º ESO B","López Muro, Rosario",3,3,4,4,3);
		lista.add(est1);
		System.out.println("Número de registros: "+ lista.size());
	}

	private static ArrayList<Estudiante> importarDatos() {
		File f = new File("notas1.txt");
		ArrayList<Estudiante> e1 = new ArrayList<>();
		
		try {
			Scanner lector = new Scanner(f);
		
			while(lector.hasNext()) {
				String linea = lector.nextLine();
				String [] partes = linea.split(";");
				String grupo = partes[0];
				String nombre = partes[1];
				int matematicas = Integer.parseInt(partes[2]);
				int lengua = Integer.parseInt(partes[3]);
				int fisica = Integer.parseInt(partes[4]);
				int quimica = Integer.parseInt(partes[5]);
				int ingles = Integer.parseInt(partes[6]);
				
				Estudiante estudiante = new Estudiante(grupo,nombre,matematicas,lengua,fisica,quimica,ingles);
				e1.add(estudiante);
			}
			lector.close();
		}catch(Exception e) {
			System.out.println(e.getMessage());
		}
		return e1;
	}
}
